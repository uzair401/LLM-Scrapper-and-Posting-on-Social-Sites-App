<!-- templates/scrape_new.html -->
<div class="max-w-4xl mx-auto space-y-6">
    <!-- Header -->
    <div class="flex items-center space-x-4">
        <button class="text-gray-600 hover:text-gray-800" 
                hx-get="{% url 'dashboard' %}" hx-target="#main-content">
            <i class="fas fa-arrow-left text-xl"></i>
        </button>
        <div class="min-w-0 flex-1">
            <h2 class="text-2xl font-bold text-gray-800">New Content Scrape</h2>
            <p class="text-gray-600">Extract content and generate social media posts</p>
        </div>
    </div>

    <!-- URL Form -->
    <div class="bg-white rounded-xl shadow-sm p-6">
        <form hx-post="{% url 'scrape_process' %}" 
              hx-target="#scrape-results" 
              hx-indicator="#loading">
            {% csrf_token %}
            
            <div class="space-y-6">
                <!-- URL Input -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Website URL</label>
                    <div class="relative">
                        <input type="url" 
                               name="url" 
                               placeholder="https://example.com/article" 
                               class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" 
                               required>
                        <i class="fas fa-link absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>

                <!-- Content Focus -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Content Focus (Optional)</label>
                    <textarea name="focus" 
                              rows="3" 
                              placeholder="What specific aspects should we focus on? (e.g., key insights, statistics, quotes)"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none"></textarea>
                </div>

                <!-- Platform Selection -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-3">Target Platforms</label>
                    <div class="flex flex-wrap gap-4">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" name="platforms" value="twitter" class="rounded text-indigo-600" checked>
                            <div class="flex items-center space-x-2">
                                <i class="fab fa-twitter text-blue-500"></i>
                                <span>Twitter</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" name="platforms" value="linkedin" class="rounded text-indigo-600" checked>
                            <div class="flex items-center space-x-2">
                                <i class="fab fa-linkedin text-blue-700"></i>
                                <span>LinkedIn</span>
                            </div>
                        </label>
                        
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" name="platforms" value="facebook" class="rounded text-indigo-600">
                            <div class="flex items-center space-x-2">
                                <i class="fab fa-facebook text-blue-600"></i>
                                <span>Facebook</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="gradient-btn w-full py-3 text-white font-medium rounded-lg">
                    <i class="fas fa-magic mr-2"></i>
                    Generate Content
                </button>
            </div>
        </form>
    </div>

    <!-- Loading State -->
    <div id="loading" class="htmx-indicator bg-white rounded-xl shadow-sm p-8 text-center">
        <div class="flex flex-col items-center space-y-4">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
            <div>
                <p class="text-lg font-medium text-gray-800">Processing content...</p>
                <p class="text-gray-600">This may take a few moments</p>
            </div>
        </div>
    </div>

    <!-- Results Container -->
    <div id="scrape-results"></div>
</div>

<style>
.gradient-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    transition: all 0.2s ease;
}

.gradient-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

/* Mobile optimizations */
@media (max-width: 768px) {
    .max-w-4xl {
        max-width: 100%;
    }
    
    .space-y-6 > * + * {
        margin-top: 1rem;
    }
    
    .p-6 {
        padding: 1rem;
    }
    
    .text-2xl {
        font-size: 1.5rem;
    }
}

@media (max-width: 480px) {
    .flex.items-center.space-x-4 {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .flex.flex-wrap.gap-4 {
        gap: 0.5rem;
    }
    
    .flex.flex-wrap.gap-4 > label {
        flex: 1;
        min-width: 120px;
    }
}
</style>